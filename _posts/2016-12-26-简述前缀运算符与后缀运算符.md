---
layout: post
title: 简述前缀运算符与后缀运算符
date: 2016-12-26 08:45:45
comment: True
categories: C++
---


<span></span>
<div><span>对于初学者，经常纠结的一个问题就是 for 循环中的循环量递增过程中，到底是应该用前缀运算符还是后缀运算符。</span></div>
<hr>
<ul>
<li><span><strong><span style="font-size:24px">逻辑</span></strong></span></li></ul>
<div style="margin-left:40px">首先谈一下前缀运算符和后缀运算符有什么区别：粗略的讲，</div>
<ul>
<li style="list-style:none; display:inline">
<ul>
<li>a&#43;&#43;是当前&#20540;计算表达式，然后将变量a的&#20540;＋1；</li><li>而&#43;&#43;a是先将a的&#20540;&#43;1，然后使用新的&#20540;来计算表达式。</li></ul>
</li></ul>
<span style="color:#797979"><em>（这里涉及到表达式和语句、副作用和顺序点，有点复杂，暂时不在这里阐述。）</em></span>
<div>在大多数情况下（一个正常的软件工程规定的程序设计规范和风&#26684;，应该是尽量避免那种考题式的容易含糊的语句，应该尽量使用意思明确，即：一条语句实现一个功能）是没有区别的，就逻辑上来说，for 循环中，使用前缀运算符和后缀运算符所得的结果都是一样的，但是这里涉及到一个重要的问题：效率！！！</div>
<hr>
<ul>
<li><span style="font-size:24px"><strong>效率</strong></span></li></ul>
<div>我们在设计程序时，应当尽量减少程序的开销，在能够使用较少内存的地方，绝不去占用多的内存，这样可以提高程序的执行速度。</div>
<div>对于内置类型和当代的编译器而言，这没有多大差别。但是一旦涉及到程序员自定义的类类型时，就会体现出很大差别。（C&#43;&#43;允许程序员重定义运算符，称之为<u>运算符重载</u>），如果把一个占用内存较大的类作为循环量对其使用递增（递减）运算符时，我们就应当使用前缀运算符&#43;&#43;a（--a）。</div>
<div style="margin-left:40px">原因如下：</div>
<ul>
<li style="list-style:none; display:inline">
<ul>
<li>前缀运算符：（程序员自定义）将&#20540;&#43;1，然后返回结果；</li><li>后缀运算符：首先复制一个副本，将其&#20540;&#43;1，然后将复制的副本返回。</li></ul>
</li></ul>
<div>很明显能看出两者之间的差别吧。</div>
<div><br>
</div>
<div>所以，在程序设计时，<span style="">应该养成使用前缀运算符的习惯</span>，在C&#43;&#43;软件工程中，经常会涉及到较大的类类型需要重载运算符，在不产生歧义的情况下，尽量使用前缀运算符能够帮助我们提高程序的执行速度。</div>
